(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["longdo-map-vue"]=e():t["longdo-map-vue"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({8875:function(t,e,n){var o,r,i;(function(n,a){r=[],o=a,i="function"===typeof o?o.apply(e,r):o,void 0===i||(t.exports=i)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,o,r,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,l=i.exec(f.stack)||a.exec(f.stack),u=l&&l[1]||!1,d=l&&l[2]||!1,c=document.location.href.replace(document.location.hash,""),p=document.getElementsByTagName("script");u===c&&(n=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(d-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(o,"$1").trim());for(var s=0;s<p.length;s++){if("interactive"===p[s].readyState)return p[s];if(p[s].src===u)return p[s];if(u===c&&p[s].innerHTML&&p[s].innerHTML.trim()===r)return p[s]}return null}}return t}))},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"LongdoMap",(function(){return b})),n.d(e,"LongdoMapMarker",(function(){return j})),n.d(e,"LongdoMapDot",(function(){return $})),n.d(e,"LongdoMapCircle",(function(){return _})),n.d(e,"LongdoMapRectangle",(function(){return x})),n.d(e,"LongdoMapPolygon",(function(){return L})),n.d(e,"LongdoMapPolyline",(function(){return k})),n.d(e,"LongdoMapPolycurve",(function(){return R})),"undefined"!==typeof window){var o=window.document.currentScript,r=n("8875");o=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a={_apiKey:"",_src:"https://api.longdo.com/map/",promise:{},load:function(t){var e=t.apiKey,n=t.src,o=void 0===n?void 0:n,r=t.checkApiKey,i=void 0===r||r;if("undefined"!==typeof window)if(window.longdo)console.warn("Longdo Map API is already loaded");else{i&&this._validateApiKey(e);var a=this._src;o&&(a=o,this._src=o),e&&(a+="?key=".concat(e)),this._apiKey=e,this._importLongdoMap(a)}},initLongdoMap:function(t){if(!window.longdo)throw new Error("Longdo Map API is not found");t()},_importLongdoMap:function(t){this.promise=new Promise((function(e,n){var o=document.createElement("script");o.onload=function(){e()},o.onerror=function(){n()},o.async=!0,o.src=t,document.body.appendChild(o)}))},_validateApiKey:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof t||""===t)throw new Error("Invalid Longdo Map API key")}},l=a,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"map",staticStyle:{width:"100%",height:"100%"}},[t._t("default")],2)},d=[];function c(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=p(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function p(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var f={projection:{type:String,default:null},layer:{type:Array,default:null},zoom:{type:Number,default:null},zoomRange:{type:Object,default:null},location:{type:Object,default:null},ui:{type:String,default:null},input:{type:Boolean,default:null},autoResize:{type:Boolean,default:null},lastView:{type:Boolean,default:null},smoothZoom:{type:Boolean,default:null},language:{type:String,default:null}},y={props:f,methods:{getMapOptions:function(){var t={};for(var e in f)null!==this[e]&&("projection"===e?t.projection=window.longdo.Projections[this.projection]:"layer"===e?t.layer=this.getLayers(this.layer):"ui"===e?t.ui=window.longdo.UiComponent[this.ui]:t[e]=this[e]);return t},getLayers:function(t){var e,n=[],o=c(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;n.push(window.longdo.Layers[r])}}catch(i){o.e(i)}finally{o.f()}return n}}},m={name:"LongdoMap",mixins:[y],data:function(){return{map:null,mapPromise:null}},created:function(){var t=this;this.mapPromise=l.promise,this.mapPromise.then((function(){l.initLongdoMap(t.initLongdoMap)}))},methods:{initLongdoMap:function(){var t=this.getMapOptions();t.placeholder=this.$refs.map,this.map=new window.longdo.Map(t),this.$emit("load",this.map)}},init:function(t){var e=t.apiKey,n=t.src,o=void 0===n?void 0:n,r=t.checkApiKey,i=void 0===r||r;l.load({apiKey:e,src:o,checkApiKey:i})}},h=m;function g(t,e,n,o,r,i,a,l){var u,d="function"===typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),o&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=u):r&&(u=l?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(d.functional){d._injectStyles=u;var c=d.render;d.render=function(t,e){return u.call(e),c(t,e)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:d}}var v=g(h,u,d,!1,null,"43ab0db5",null),b=v.exports,w={data:function(){return{mapReady:this.$parent.mapPromise}},render:function(){return""}},O={location:{type:Object,default:null},title:{type:String,default:null},icon:{type:Object,default:null},detail:{type:String,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},clickable:{type:Boolean,default:null},draggable:{type:Boolean,default:null},weight:{type:String,default:null},rotate:{type:Number,default:null}},S={props:O,methods:{getMarkerOptions:function(){var t={};for(var e in O)if(null!==this[e])if("weight"===e){var n=window.longdo.OverlayWeight[this.weight];n&&(t.weight=n)}else t[e]=this[e];return t}}},j={name:"LongdoMarker",mixins:[w,S],data:function(){return{marker:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addMarker(t.location,t.getMarkerOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.marker)},methods:{addMarker:function(t,e){this.marker=new window.longdo.Marker(t,e),this.$parent.map.Overlays.add(this.marker),this.$emit("add",this.marker)}}},P={location:{type:Object|Array,default:null},radius:{type:Number,default:null},size:{type:Number|Object,default:null},title:{type:String,default:null},detail:{type:String,default:null},label:{type:String,default:null},labelOptions:{type:Object,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},lineWidth:{type:Number,default:null},lineColor:{type:String,default:null},fillColor:{type:String,default:null},lineStyle:{type:String,default:null},pivot:{type:Object,default:null},clickable:{type:Boolean,default:null},editable:{type:Boolean,default:null},pointer:{type:Boolean,default:null},draggable:{type:Boolean,default:null},rotatable:{type:Boolean,default:null},weight:{type:String,default:null},texture:{type:String,default:null},textureAlpha:{type:Number,default:null},linePattern:{type:String,default:null}},M={props:P,methods:{getGeometryOptions:function(){var t={};for(var e in P)if(null!==this[e])if("weight"===e){var n=window.longdo.OverlayWeight[this.weight];n&&(t.weight=n)}else"lineStyle"===e?t.lineStyle=window.longdo.LineStyle[this.lineStyle]:t[e]=this[e];return t}}},$={name:"LongdoDot",mixins:[w,M],data:function(){return{dot:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addDot(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.dot)},methods:{addDot:function(t,e){this.dot=new window.longdo.Dot(t,e),this.$parent.map.Overlays.add(this.dot),this.$emit("add",this.dot)}}},_={name:"LongdoCircle",mixins:[w,M],data:function(){return{circle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addCircle(t.location,t.radius,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.circle)},methods:{addCircle:function(t,e,n){this.circle=new window.longdo.Circle(t,e,n),this.$parent.map.Overlays.add(this.circle),this.$emit("add",this.circle)}}},x={name:"LongdoRectangle",mixins:[w,M],data:function(){return{rectangle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addRectangle(t.location,t.size,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.rectangle)},methods:{addRectangle:function(t,e,n){this.rectangle=new window.longdo.Rectangle(t,e,n),this.$parent.map.Overlays.add(this.rectangle),this.$emit("add",this.rectangle)}}},L={name:"LongdoPolygon",mixins:[w,M],data:function(){return{polygon:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolygon(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polygon)},methods:{addPolygon:function(t,e){this.polygon=new window.longdo.Polygon(t,e),this.$parent.map.Overlays.add(this.polygon),this.$emit("add",this.polygon)}}},k={name:"LongdoPolyline",mixins:[w,M],data:function(){return{polyline:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolyline(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polyline)},methods:{addPolyline:function(t,e){this.polyline=new window.longdo.Polyline(t,e),this.$parent.map.Overlays.add(this.polyline),this.$emit("add",this.polyline)}}},R={name:"LongdoPolycurve",mixins:[w,M],data:function(){return{polycurve:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolycurve(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polycurve)},methods:{addPolycurve:function(t,e){this.polycurve=new window.longdo.Polycurve(t,e),this.$parent.map.Overlays.add(this.polycurve),this.$emit("add",this.polycurve)}}};function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B={install:function(t,e){var n=A({installComponents:!0,tagPrefix:""},e);if(n.load&&l.load(n.load),n.installComponents){var o=""!==n.tagPrefix?"".concat(n.tagPrefix,"-"):n.tagPrefix;t.component("".concat(o,"longdo-map"),b),t.component("".concat(o,"longdo-map-marker"),j),t.component("".concat(o,"longdo-map-dot"),$),t.component("".concat(o,"longdo-map-circle"),_),t.component("".concat(o,"longdo-map-rectangle"),x),t.component("".concat(o,"longdo-map-polygon"),L),t.component("".concat(o,"longdo-map-polyline"),k),t.component("".concat(o,"longdo-map-polycurve"),R)}}},D=B;e["default"]=D}})}));
//# sourceMappingURL=longdo-map-vue.umd.min.js.map