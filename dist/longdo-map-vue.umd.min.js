(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["longdo-map-vue"]=e():t["longdo-map-vue"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({1735:function(t,e,n){var o=n("2de2");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("499e").default;i("acc14f86",o,!0,{sourceMap:!1,shadowMode:!1})},"228f":function(t,e,n){"use strict";n("8dbd")},"24fb":function(t,e,n){"use strict";function o(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"===typeof btoa){var r=i(o),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(a).concat([r]).join("\n")}return[n].join("\n")}function i(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=o(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"===typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},"2de2":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".ldmap-vue-container[data-v-12c258e4]{width:100%;height:100%;position:relative;font-family:Tahoma,sans-serif}.ldmap-vue-placeholder[data-v-12c258e4]{width:inherit;height:inherit}",""]),t.exports=e},"3c5d":function(t,e,n){"use strict";n("1735")},"499e":function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=r[0],l=r[1],c=r[2],s=r[3],u={id:t+":"+i,css:l,media:c,sourceMap:s};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}n.r(e),n.d(e,"default",(function(){return h}));var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=i&&(document.head||document.getElementsByTagName("head")[0]),l=null,c=0,s=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,n,i){s=n,d=i||{};var a=o(t,e);return m(a),function(e){for(var n=[],i=0;i<a.length;i++){var l=a[i],c=r[l.id];c.refs--,n.push(c)}e?(a=o(t,e),m(a)):a=[];for(i=0;i<n.length;i++){c=n[i];if(0===c.refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete r[c.id]}}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e],o=r[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(v(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(v(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:a}}}}function y(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function v(t){var e,n,o=document.querySelector("style["+p+'~="'+t.id+'"]');if(o){if(s)return u;o.parentNode.removeChild(o)}if(f){var i=c++;o=l||(l=y()),e=b.bind(null,o,i,!1),n=b.bind(null,o,i,!0)}else o=y(),e=w.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function w(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),d.ssrId&&t.setAttribute(p,e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},8875:function(t,e,n){var o,i,r;(function(n,a){i=[],o=a,r="function"===typeof o?o.apply(e,i):o,void 0===r||(t.exports=r)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,o,i,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,l=r.exec(f.stack)||a.exec(f.stack),c=l&&l[1]||!1,s=l&&l[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");c===u&&(n=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(o,"$1").trim());for(var p=0;p<d.length;p++){if("interactive"===d[p].readyState)return d[p];if(d[p].src===c)return d[p];if(c===u&&d[p].innerHTML&&d[p].innerHTML.trim()===i)return d[p]}return null}}return t}))},"8dbd":function(t,e,n){var o=n("c3ff");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("499e").default;i("56bebb03",o,!0,{sourceMap:!1,shadowMode:!1})},a214:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".ldmap-vue-marker-transition-fade{opacity:0;-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:linear;transition-timing-function:linear;-webkit-transition-duration:.2s;transition-duration:.2s}.ldmap-vue-marker-transition-fade-start{opacity:1}",""]),t.exports=e},c078:function(t,e,n){"use strict";n("cc6d")},c3ff:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".ldmap-vue-lock-screen[data-v-b2f2270c]{position:absolute;top:0;left:0;width:100%;height:100%}.ldmap-vue-lock-screen-unlock[data-v-b2f2270c]{pointer-events:none}.ldmap-vue-lock-screen-button-container[data-v-b2f2270c]{display:inline-block;pointer-events:auto}.ldmap-vue-lock-screen-button[data-v-b2f2270c]{position:absolute;bottom:0;left:0;color:#fff;background-color:#2a5082;font-size:.875rem;line-height:1.25rem;font-weight:700;border:0;border-radius:.25rem;margin:0 0 1rem 1rem;padding:.5rem 1rem .5rem 1rem;cursor:pointer;opacity:.05;-webkit-box-shadow:2px 3px 4px rgba(0,0,0,.2);box-shadow:2px 3px 4px rgba(0,0,0,.2);-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.5s;transition-duration:.5s}.ldmap-vue-lock-screen:hover .ldmap-vue-lock-screen-button[data-v-b2f2270c]{opacity:1}.ldmap-vue-lock-screen-touch[data-v-b2f2270c]{height:100%;width:100%;overflow:hidden;opacity:0;background-color:rgba(0,0,0,.5);-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.5s;transition-duration:.5s}.ldmap-vue-lock-screen-touch-message[data-v-b2f2270c]{top:50%;position:relative;transform:translateY(-50%);-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);text-align:center;font-size:1.5rem;line-height:2rem;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ldmap-vue-lock-screen-touch-active[data-v-b2f2270c]{opacity:1}",""]),t.exports=e},cc6d:function(t,e,n){var o=n("a214");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("499e").default;i("c7f8f344",o,!0,{sourceMap:!1,shadowMode:!1})},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"LongdoMap",(function(){return k})),n.d(e,"LongdoMapMarker",(function(){return C})),n.d(e,"LongdoMapDot",(function(){return T})),n.d(e,"LongdoMapCircle",(function(){return _})),n.d(e,"LongdoMapRectangle",(function(){return E})),n.d(e,"LongdoMapPolygon",(function(){return R})),n.d(e,"LongdoMapPolyline",(function(){return B})),n.d(e,"LongdoMapPolycurve",(function(){return A})),n.d(e,"LongdoMapLockScreen",(function(){return G})),n.d(e,"LongdoMapLockMap",(function(){return F})),n.d(e,"LongdoMapMenuBar",(function(){return J})),n.d(e,"LongdoMapTagPanel",(function(){return X})),n.d(e,"LongdoMapCustomControl",(function(){return q})),"undefined"!==typeof window){var o=window.document.currentScript,i=n("8875");o=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var r=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(n.p=r[1])}var a={apiKey:null,src:"https://api.longdo.com/map/",promise:null,load:function(t){var e=t.apiKey,n=void 0===e?null:e,o=t.src,i=void 0===o?null:o;if("undefined"!==typeof window)if(window.longdo)console.warn("Longdo Map Vue: Longdo Map API is already loaded");else{var r=this.src;i&&(r=i,this.src=i),n&&(r+="?key=".concat(n),this.apiKey=n),this.importLongdoMap(r)}},initLongdoMap:function(t){if(!window.longdo)throw new Error("Longdo Map Vue: Longdo Map API is not found");t()},importLongdoMap:function(t){this.promise=new Promise((function(e,n){var o=document.createElement("script");o.onload=function(){e()},o.onerror=function(){n()},o.async=!0,o.src=t,document.body.appendChild(o)}))}},l=a,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ldmap-vue-container"},[n("div",{ref:"map",staticClass:"ldmap-vue-placeholder"}),t._t("default")],2)},s=[];function u(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var f={projection:{type:String,default:null},layer:{type:Array,default:null},zoom:{type:Number,default:null},zoomRange:{type:Object,default:null},location:{type:Object,default:null},ui:{type:String,default:null},input:{type:Boolean,default:null},autoResize:{type:Boolean,default:null},lastView:{type:Boolean,default:null},smoothZoom:{type:Boolean,default:null},language:{type:String,default:null}},h={props:f,methods:{getMapOptions:function(){var t={};for(var e in f)null!==this[e]&&("projection"===e?t.projection=window.longdo.Projections[this.projection]:"layer"===e?t.layer=this.getLayers(this.layer):"ui"===e?t.ui=window.longdo.UiComponent[this.ui]:t[e]=this[e]);return t},getLayers:function(t){var e,n=[],o=u(t);try{for(o.s();!(e=o.n()).done;){var i=e.value;n.push(window.longdo.Layers[i])}}catch(r){o.e(r)}finally{o.f()}return n}}},m={name:"LongdoMap",mixins:[h],data:function(){return{map:null,mapPromise:null}},created:function(){var t=this;this.mapPromise=l.promise,this.mapPromise.then((function(){l.initLongdoMap(t.initLongdoMap)}))},methods:{initLongdoMap:function(){var t=this.getMapOptions();t.placeholder=this.$refs.map,this.map=new window.longdo.Map(t),this.$emit("load",this.map)}},init:function(t){var e=t.apiKey,n=t.src,o=void 0===n?void 0:n,i=t.checkApiKey,r=void 0===i||i;l.load({apiKey:e,src:o,checkApiKey:r})}},y=m;n("3c5d");function v(t,e,n,o,i,r,a,l){var c,s="function"===typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),o&&(s.functional=!0),r&&(s._scopeId="data-v-"+r),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=c):i&&(c=l?function(){i.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(s.functional){s._injectStyles=c;var u=s.render;s.render=function(t,e){return c.call(e),u(t,e)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:s}}var g,b,w=v(y,c,s,!1,null,"12c258e4",null),k=w.exports,M={data:function(){return{mapReady:this.$parent.mapPromise}},render:function(){return""}},O={location:{type:Object,default:null},title:{type:String,default:null},icon:{type:Object,default:null},detail:{type:String,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},clickable:{type:Boolean,default:null},draggable:{type:Boolean,default:null},weight:{type:String,default:null},rotate:{type:Number,default:null},transition:{type:Boolean,default:!1}},x={props:O,methods:{getMarkerOptions:function(){var t={};for(var e in O)if(null!==this[e])if("weight"===e){var n=window.longdo.OverlayWeight[this.weight];n&&(t.weight=n)}else{if("transition"===e)continue;t[e]=this[e]}return t}}},S={name:"LongdoMarker",mixins:[M,x],data:function(){return{marker:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addMarker(t.location,t.getMarkerOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.marker)},methods:{addMarker:function(t,e){this.marker=new window.longdo.Marker(t,e),this.$parent.map.Overlays.add(this.marker),this.setTransition(this.marker),this.$emit("add",this.marker)},setTransition:function(t){if(this.transition){var e=t.element();e.classList.add("ldmap-vue-marker-transition-fade"),setTimeout((function(){e.classList.add("ldmap-vue-marker-transition-fade-start")}),500)}}}},L=S,$=(n("c078"),v(L,g,b,!1,null,null,null)),C=$.exports,P={location:{type:Object|Array,default:null},radius:{type:Number,default:null},size:{type:Number|Object,default:null},title:{type:String,default:null},detail:{type:String,default:null},label:{type:String,default:null},labelOptions:{type:Object,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},lineWidth:{type:Number,default:null},lineColor:{type:String,default:null},fillColor:{type:String,default:null},lineStyle:{type:String,default:null},pivot:{type:Object,default:null},clickable:{type:Boolean,default:null},editable:{type:Boolean,default:null},pointer:{type:Boolean,default:null},draggable:{type:Boolean,default:null},rotatable:{type:Boolean,default:null},weight:{type:String,default:null},texture:{type:String,default:null},textureAlpha:{type:Number,default:null},linePattern:{type:String,default:null}},j={props:P,methods:{getGeometryOptions:function(){var t={};for(var e in P)if(null!==this[e])if("weight"===e){var n=window.longdo.OverlayWeight[this.weight];n&&(t.weight=n)}else"lineStyle"===e?t.lineStyle=window.longdo.LineStyle[this.lineStyle]:t[e]=this[e];return t}}},T={name:"LongdoDot",mixins:[M,j],data:function(){return{dot:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addDot(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.dot)},methods:{addDot:function(t,e){this.dot=new window.longdo.Dot(t,e),this.$parent.map.Overlays.add(this.dot),this.$emit("add",this.dot)}}},_={name:"LongdoCircle",mixins:[M,j],data:function(){return{circle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addCircle(t.location,t.radius,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.circle)},methods:{addCircle:function(t,e,n){this.circle=new window.longdo.Circle(t,e,n),this.$parent.map.Overlays.add(this.circle),this.$emit("add",this.circle)}}},E={name:"LongdoRectangle",mixins:[M,j],data:function(){return{rectangle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addRectangle(t.location,t.size,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.rectangle)},methods:{addRectangle:function(t,e,n){this.rectangle=new window.longdo.Rectangle(t,e,n),this.$parent.map.Overlays.add(this.rectangle),this.$emit("add",this.rectangle)}}},R={name:"LongdoPolygon",mixins:[M,j],data:function(){return{polygon:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolygon(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polygon)},methods:{addPolygon:function(t,e){this.polygon=new window.longdo.Polygon(t,e),this.$parent.map.Overlays.add(this.polygon),this.$emit("add",this.polygon)}}},B={name:"LongdoPolyline",mixins:[M,j],data:function(){return{polyline:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolyline(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polyline)},methods:{addPolyline:function(t,e){this.polyline=new window.longdo.Polyline(t,e),this.$parent.map.Overlays.add(this.polyline),this.$emit("add",this.polyline)}}},A={name:"LongdoPolycurve",mixins:[M,j],data:function(){return{polycurve:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolycurve(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polycurve)},methods:{addPolycurve:function(t,e){this.polycurve=new window.longdo.Polycurve(t,e),this.$parent.map.Overlays.add(this.polycurve),this.$emit("add",this.polycurve)}}},U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.lockScreenReady,expression:"lockScreenReady"}],class:["ldmap-vue-lock-screen",{"ldmap-vue-lock-screen-unlock":!t.value}]},["button"!==t.mode||t.hideButton?"touch"===t.mode?n("div",{ref:"touchArea",staticClass:"ldmap-vue-lock-screen-touch",on:{wheel:t.wheelEvent,touchstart:t.touchStartEvent,touchmove:t.touchMoveEvent,touchend:t.touchEndEvent,click:t.clickEvent}},[n("div",{staticClass:"ldmap-vue-lock-screen-touch-message"},[t._v(" "+t._s(t.unlockMessageText)+" ")])]):t._e():[n("div",{staticClass:"ldmap-vue-lock-screen-button-container"},[t.hasButtonSlot?t._t("button"):n("button",{staticClass:"ldmap-vue-lock-screen-button",on:{click:function(e){return t.lockMap(!t.value)}}},[t._v(" "+t._s(t.value?t.unlockMessageText:t.lockMessage)+" ")])],2)]],2)},N=[],D={name:"LockScreen",mixins:[M],props:{value:{type:Boolean,default:!0},mode:{type:String,default:"button"},lockMessage:{type:String,default:"Lock"},unlockMessage:{type:String,default:void 0},unlockMessageKeyboard:{type:String,default:"Press and hold ".concat(-1!=navigator.appVersion.indexOf("Mac")?"âŒ˜":"Ctrl"," to move the map")},hideButton:{type:Boolean,default:!1}},data:function(){return{lockScreenReady:!1,touchModeReady:!1,unlockMessageText:"",wheelTimeout:void 0}},computed:{hasButtonSlot:function(){return this.$slots.button}},mounted:function(){var t=this;this.mapReady.then((function(){switch(t.lockScreenReady=!0,t.mode){case"button":t.setButtonMode();break;case"touch":t.setTouchMode();break}}))},methods:{setButtonMode:function(){this.unlockMessageText=void 0===this.unlockMessage?"Unlock":this.unlockMessage},keyDownEvent:function(t){"Meta"!==t.key&&"Control"!==t.key||this.lockMap(!1)},keyUpEvent:function(t){"Meta"!==t.key&&"Control"!==t.key||this.lockMap(!0)},wheelEvent:function(){var t=this;"touch"===this.mode&&(this.unlockMessageText=this.unlockMessageKeyboard,!this.wheelTimeout&&this.$refs.touchArea&&(this.$refs.touchArea.classList.add("ldmap-vue-lock-screen-touch-active"),this.wheelTimeout=setTimeout((function(){t.$refs.touchArea.classList.remove("ldmap-vue-lock-screen-touch-active"),t.wheelTimeout=void 0}),1e3)))},setKeyboardMode:function(){window.addEventListener("keydown",this.keyDownEvent),window.addEventListener("keyup",this.keyUpEvent)},clickEvent:function(){var t=this;"touch"===this.mode&&(this.unlockMessageText=this.unlockMessageKeyboard,!this.wheelTimeout&&this.$refs.touchArea&&(this.$refs.touchArea.classList.add("ldmap-vue-lock-screen-touch-active"),this.wheelTimeout=setTimeout((function(){t.$refs.touchArea.classList.remove("ldmap-vue-lock-screen-touch-active"),t.wheelTimeout=void 0}),1e3)))},touchStartEvent:function(t){this.unlockMessageText=void 0===this.unlockMessage?"Use two fingers to move the map":this.unlockMessage,t.touches.length>0&&(this.lockMap(!1),this.$refs.touchArea.classList.add("ldmap-vue-lock-screen-touch-active"))},touchMoveEvent:function(t){t.touches.length>1&&this.$refs.touchArea.classList.remove("ldmap-vue-lock-screen-touch-active")},touchEndEvent:function(){this.lockMap(!0),this.$refs.touchArea.classList.remove("ldmap-vue-lock-screen-touch-active")},setTouchMode:function(){this.setKeyboardMode(),this.touchModeReady=!0},clearTouchModeEvent:function(){window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent),this.touchModeReady=!1},lockMap:function(t){this.$emit("input",t)}},watch:{mode:function(t){var e=this;this.unlockMessageText="","touch"!==t||this.touchModeReady?"button"===t&&(this.clearTouchModeEvent(),this.setButtonMode()):this.$nextTick((function(){e.setTouchMode()}))}}},z=D,K=(n("228f"),v(z,U,N,!1,null,"b2f2270c",null)),G=K.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.display?n("div",[t._t("button")],2):t._e()},V=[],W={name:"LockMap",mixins:[M],props:{lock:{type:Boolean,default:!0}},data:function(){return{display:!0}},mounted:function(){var t=this;this.mapReady.then((function(){if(t.$parent.map.Ui.lockMap(),t.$slots.button&&t.$slots.button[0]&&t.$slots.button[0].elm){var e=t.$slots.button[0].elm,n=document.getElementsByClassName("ldmap_lock_button")[0];n?n.parentNode.replaceChild(e,n):(t.display=!1,console.warn("Longdo Map Vue: lockMap can be called only once"))}}))},methods:{lockOverlay:function(t){var e=document.getElementsByClassName("ldmap_lock_overlay")[0];e&&(e.style.display=t?"block":"none")}},watch:{lock:function(t){this.lockOverlay(t)}}},H=W,Y=v(H,I,V,!1,null,null,null),F=Y.exports,J={name:"MenuBar",mixins:[M],data:function(){return{menuBar:null}},props:{button:{type:Array,default:function(){return[]}},dropdown:{type:Array,default:function(){return[]}},dropdownLabel:{type:String,default:null},change:{type:Function,default:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addMenuBar()}))},destroyed:function(){this.$parent.map.Ui.remove(this.menuBar)},methods:{addMenuBar:function(){var t={};this.button.length&&(t.button=this.button),this.dropdown.length&&(t.dropdown=this.dropdown),this.dropdownLabel&&(t.dropdownLabel=this.dropdownLabel),this.change&&(t.change=this.change),this.menuBar=new window.longdo.MenuBar(t),this.$parent.map.Ui.add(this.menuBar),this.$emit("add",this.menuBar)}}},X={name:"TagPanel",mixins:[M],data:function(){return{tagPanel:null}},props:{tag:{type:Array,default:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addTagPanel()}))},destroyed:function(){this.$parent.map.Ui.remove(this.tagPanel)},methods:{addTagPanel:function(){this.tagPanel=this.tag?new window.longdo.TagPanel({tag:this.tag}):new window.longdo.TagPanel,this.$parent.map.Ui.add(this.tagPanel),this.$emit("add",this.tagPanel)}}},q={name:"CustomControl",mixins:[M],data:function(){return{customControl:null}},props:{html:{type:String,default:""}},mounted:function(){var t=this;this.mapReady.then((function(){t.addCustomControl()}))},destroyed:function(){this.$parent.map.Ui.remove(this.customControl)},methods:{addCustomControl:function(){this.customControl=new window.longdo.CustomControl({html:this.html}),this.$parent.map.Ui.add(this.customControl),this.$emit("add",this.customControl)}}};function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et={install:function(t,e){var n=Q({installComponents:!0,tagPrefix:""},e);if(n.load&&l.load(n.load),n.installComponents){var o=""!==n.tagPrefix?"".concat(n.tagPrefix,"-"):n.tagPrefix;t.component("".concat(o,"longdo-map"),k),t.component("".concat(o,"longdo-map-marker"),C),t.component("".concat(o,"longdo-map-dot"),T),t.component("".concat(o,"longdo-map-circle"),_),t.component("".concat(o,"longdo-map-rectangle"),E),t.component("".concat(o,"longdo-map-polygon"),R),t.component("".concat(o,"longdo-map-polyline"),B),t.component("".concat(o,"longdo-map-polycurve"),A),t.component("".concat(o,"longdo-map-lock-screen"),G),t.component("".concat(o,"longdo-map-lock-map"),F),t.component("".concat(o,"longdo-map-menu-bar"),J),t.component("".concat(o,"longdo-map-tag-panel"),X),t.component("".concat(o,"longdo-map-custom-control"),q)}}},nt=et;e["default"]=nt}})}));
//# sourceMappingURL=longdo-map-vue.umd.min.js.map