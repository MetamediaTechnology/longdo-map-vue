(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["longdo-map-vue"]=e():t["longdo-map-vue"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(o){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var o;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=o[1]));var i={_apiKey:"",_src:"https://api.longdo.com/map/",promise:{},load:function(t){var e=t.apiKey,n=t.src,o=void 0===n?void 0:n,i=t.checkApiKey,r=void 0===i||i;if("undefined"!==typeof window)if(window.longdo)console.warn("Longdo Map API is already loaded");else{r&&this._validateApiKey(e);var a=this._src;o&&(a=o,this._src=o),e&&(a+="?key=".concat(e)),this._apiKey=e,this._importLongdoMap(a)}},initLongdoMap:function(t){if(!window.longdo)throw new Error("Longdo Map API is not found");t()},_importLongdoMap:function(t){this.promise=new Promise((function(e,n){var o=document.createElement("script");o.onload=function(){e()},o.onerror=function(){n()},o.async=!0,o.src=t,document.body.appendChild(o)}))},_validateApiKey:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof t||""===t)throw new Error("Invalid Longdo Map API key")}},r=i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"map",staticStyle:{width:"100%",height:"100%"}},[t._t("default")],2)},l=[],d={projection:{type:String,default:null},layer:{type:Array,default:null},zoom:{type:Number,default:null},zoomRange:{type:Object,default:null},location:{type:Object,default:null},ui:{type:String,default:null},input:{type:Boolean,default:null},autoResize:{type:Boolean,default:null},lastView:{type:Boolean,default:null},smoothZoom:{type:Boolean,default:null},language:{type:String,default:null}},u={props:d,methods:{getMapOptions:function(){var t={};for(var e in d)null!==this[e]&&("projection"===e?t.projection=window.longdo.Projections[this.projection]:"layer"===e?t.layer=this.getLayers(this.layer):"ui"===e?t.ui=window.longdo.UiComponent[this.ui]:t[e]=this[e]);return t},getLayers:function(t){var e=[],n=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var l=r.value;e.push(window.longdo.Layers[l])}}catch(d){o=!0,i=d}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return e}}},c={name:"LongdoMap",mixins:[u],data:function(){return{map:null,mapPromise:null}},created:function(){var t=this;this.mapPromise=r.promise,this.mapPromise.then((function(){r.initLongdoMap(t.initLongdoMap)}))},methods:{initLongdoMap:function(){var t=this.getMapOptions();t.placeholder=this.$refs.map,this.map=new window.longdo.Map(t),this.$emit("load",this.map)}},init:function(t){var e=t.apiKey,n=t.src,o=void 0===n?void 0:n,i=t.checkApiKey,a=void 0===i||i;r.load({apiKey:e,src:o,checkApiKey:a})}},p=c;function s(t,e,n,o,i,r,a,l){var d,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),a?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=d):i&&(d=l?function(){i.call(this,this.$root.$options.shadowRoot)}:i),d)if(u.functional){u._injectStyles=d;var c=u.render;u.render=function(t,e){return d.call(e),c(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,d):[d]}return{exports:t,options:u}}var f=s(p,a,l,!1,null,"43ab0db5",null),y=f.exports,m={data:function(){return{mapReady:this.$parent.mapPromise}},render:function(){return""}},h={location:{type:Object,default:null},title:{type:String,default:null},icon:{type:Object,default:null},detail:{type:String,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},clickable:{type:Boolean,default:null},draggable:{type:Boolean,default:null},weight:{type:String,default:null},rotate:{type:Number,default:null}},g={props:h,methods:{getMarkerOptions:function(){var t={};for(var e in h)null!==this[e]&&("weight"===e?t.weight=window.longdo.OverlayWeight[this.weight]:t[e]=this[e]);return t}}},v={name:"LongdoMarker",mixins:[m,g],data:function(){return{marker:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addMarker(t.location,t.getMarkerOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.marker)},methods:{addMarker:function(t,e){this.marker=new window.longdo.Marker(t,e),this.$parent.map.Overlays.add(this.marker),this.$emit("add",this.marker)}}},w={location:{type:Object|Array,default:null},radius:{type:Number,default:null},size:{type:Number|Object,default:null},title:{type:String,default:null},detail:{type:String,default:null},label:{type:String,default:null},labelOptions:{type:Object,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},lineWidth:{type:Number,default:null},lineColor:{type:String,default:null},fillColor:{type:String,default:null},lineStyle:{type:String,default:null},pivot:{type:Object,default:null},clickable:{type:Boolean,default:null},editable:{type:Boolean,default:null},pointer:{type:Boolean,default:null},draggable:{type:Boolean,default:null},rotatable:{type:Boolean,default:null},weight:{type:String,default:null},texture:{type:String,default:null},textureAlpha:{type:Number,default:null},linePattern:{type:String,default:null}},b={props:w,methods:{getGeometryOptions:function(){var t={};for(var e in w)null!==this[e]&&("weight"===e?t.weight=window.longdo.OverlayWeight[this.weight]:"lineStyle"===e?t.lineStyle=window.longdo.LineStyle[this.lineStyle]:t[e]=this[e]);return t}}},O={name:"LongdoDot",mixins:[m,b],data:function(){return{dot:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addDot(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.dot)},methods:{addDot:function(t,e){this.dot=new window.longdo.Dot(t,e),this.$parent.map.Overlays.add(this.dot),this.$emit("add",this.dot)}}},P={name:"LongdoCircle",mixins:[m,b],data:function(){return{circle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addCircle(t.location,t.radius,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.circle)},methods:{addCircle:function(t,e,n){this.circle=new window.longdo.Circle(t,e,n),this.$parent.map.Overlays.add(this.circle),this.$emit("add",this.circle)}}},j={name:"LongdoRectangle",mixins:[m,b],data:function(){return{rectangle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addRectangle(t.location,t.size,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.rectangle)},methods:{addRectangle:function(t,e,n){this.rectangle=new window.longdo.Rectangle(t,e,n),this.$parent.map.Overlays.add(this.rectangle),this.$emit("add",this.rectangle)}}},S={name:"LongdoPolygon",mixins:[m,b],data:function(){return{polygon:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolygon(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polygon)},methods:{addPolygon:function(t,e){this.polygon=new window.longdo.Polygon(t,e),this.$parent.map.Overlays.add(this.polygon),this.$emit("add",this.polygon)}}},_={name:"LongdoPolyline",mixins:[m,b],data:function(){return{polyline:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolyline(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polyline)},methods:{addPolyline:function(t,e){this.polyline=new window.longdo.Polyline(t,e),this.$parent.map.Overlays.add(this.polyline),this.$emit("add",this.polyline)}}},$={name:"LongdoPolycurve",mixins:[m,b],data:function(){return{polycurve:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolycurve(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polycurve)},methods:{addPolycurve:function(t,e){this.polycurve=new window.longdo.Polycurve(t,e),this.$parent.map.Overlays.add(this.polycurve),this.$emit("add",this.polycurve)}}};function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(n,!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k={install:function(t,e){var n=x({installComponents:!0,tagPrefix:""},e);if(n.load&&r.load(n.load),n.installComponents){var o=""!==n.tagPrefix?"".concat(n.tagPrefix,"-"):n.tagPrefix;t.component("".concat(o,"longdo-map"),y),t.component("".concat(o,"longdo-map-marker"),v),t.component("".concat(o,"longdo-map-dot"),O),t.component("".concat(o,"longdo-map-circle"),P),t.component("".concat(o,"longdo-map-rectangle"),j),t.component("".concat(o,"longdo-map-polygon"),S),t.component("".concat(o,"longdo-map-polyline"),_),t.component("".concat(o,"longdo-map-polycurve"),$)}}},R=k;n.d(e,"LongdoMap",(function(){return y})),n.d(e,"LongdoMapMarker",(function(){return v})),n.d(e,"LongdoMapDot",(function(){return O})),n.d(e,"LongdoMapCircle",(function(){return P})),n.d(e,"LongdoMapRectangle",(function(){return j})),n.d(e,"LongdoMapPolygon",(function(){return S})),n.d(e,"LongdoMapPolyline",(function(){return _})),n.d(e,"LongdoMapPolycurve",(function(){return $}));e["default"]=R}})}));
//# sourceMappingURL=longdo-map-vue.umd.min.js.map