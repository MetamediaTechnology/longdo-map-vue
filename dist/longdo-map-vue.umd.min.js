(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["longdo-map-vue"]=e():t["longdo-map-vue"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"14b6":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".ldmap-vue-lock-screen[data-v-f7d580b0]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.ldmap-vue-lock-screen-unlock[data-v-f7d580b0]{pointer-events:none}.ldmap-vue-lock-screen-button-container[data-v-f7d580b0]{display:inline-block;pointer-events:auto}.ldmap-vue-lock-screen-button[data-v-f7d580b0]{position:absolute;bottom:0;left:0;color:#fff;background-color:#2a5082;font-size:.875rem;line-height:1.25rem;font-weight:700;border:0;border-radius:.25rem;margin:0 0 1rem 1rem;padding:.5rem 1rem .5rem 1rem;cursor:pointer;opacity:.05;-webkit-box-shadow:2px 3px 4px rgba(0,0,0,.2);box-shadow:2px 3px 4px rgba(0,0,0,.2);-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:linear;transition-timing-function:linear;-webkit-transition-duration:.5s;transition-duration:.5s}.ldmap-vue-lock-screen:hover .ldmap-vue-lock-screen-button[data-v-f7d580b0]{opacity:1}.ldmap-vue-lock-screen-area[data-v-f7d580b0]{height:100%;width:100%;overflow:hidden;opacity:0;background-color:rgba(0,0,0,.5);-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:linear;transition-timing-function:linear;-webkit-transition-duration:.5s;transition-duration:.5s}.ldmap-vue-lock-screen-area-message[data-v-f7d580b0]{top:50%;position:relative;padding:0 .5rem;transform:translateY(-50%);-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);text-align:center;font-size:1.5rem;line-height:2rem;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ldmap-vue-lock-screen-area-active[data-v-f7d580b0]{opacity:1}",""]),t.exports=e},"24fb":function(t,e,n){"use strict";function a(t,e){var n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"===typeof btoa){var i=r(a),o=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=a(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,a){"string"===typeof t&&(t=[[null,t,""]]);var r={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);a&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},2526:function(t,e,n){var a=n("8a68");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("499e").default;r("63d5f6fe",a,!0,{sourceMap:!1,shadowMode:!1})},3002:function(t,e,n){"use strict";n("2526")},"3c6a":function(t,e,n){var a=n("e6b4");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("499e").default;r("851ba456",a,!0,{sourceMap:!1,shadowMode:!1})},"499e":function(t,e,n){"use strict";function a(t,e){for(var n=[],a={},r=0;r<e.length;r++){var i=e[r],o=i[0],s=i[1],l=i[2],u=i[3],c={id:t+":"+r,css:s,media:l,sourceMap:u};a[o]?a[o].parts.push(c):n.push(a[o]={id:o,parts:[c]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var r="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,u=!1,c=function(){},d=null,h="data-vue-ssr-id",m="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,r){u=n,d=r||{};var o=a(t,e);return f(o),function(e){for(var n=[],r=0;r<o.length;r++){var s=o[r],l=i[s.id];l.refs--,n.push(l)}e?(o=a(t,e),f(o)):o=[];for(r=0;r<n.length;r++){l=n[r];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete i[l.id]}}}}function f(t){for(var e=0;e<t.length;e++){var n=t[e],a=i[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(y(n.parts[r]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(y(n.parts[r]));i[n.id]={id:n.id,refs:1,parts:o}}}}function g(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function y(t){var e,n,a=document.querySelector("style["+h+'~="'+t.id+'"]');if(a){if(u)return c;a.parentNode.removeChild(a)}if(m){var r=l++;a=s||(s=g()),e=_.bind(null,a,r,!1),n=_.bind(null,a,r,!0)}else a=g(),e=w.bind(null,a),n=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else n()}}var v=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function _(t,e,n,a){var r=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var i=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function w(t,e){var n=e.css,a=e.media,r=e.sourceMap;if(a&&t.setAttribute("media",a),d.ssrId&&t.setAttribute(h,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},5087:function(t,e,n){"use strict";n("ae98")},5237:function(t,e,n){"use strict";n("d535")},"6f1e":function(t,e,n){"use strict";n("d9c9")},7397:function(t,e,n){var a,r;(function(i,o,s){t.exports?t.exports=s():(a=s,r="function"===typeof a?a.call(e,n,e,t):a,void 0===r||(t.exports=r))})(0,0,(function(){var t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var e=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t["xField"]||t.defaultXField,this._yField=t["yField"]||t.defaultYField,this._valueField=t["valueField"]||t.defaultValueField,t["radius"]&&(this._cfgRadius=t["radius"])},n=t.defaultRadius;return e.prototype={_organiseData:function(t,e){var a=t[this._xField],r=t[this._yField],i=this._radi,o=this._data,s=this._max,l=this._min,u=t[this._valueField]||1,c=t.radius||this._cfgRadius||n;o[a]||(o[a]=[],i[a]=[]),o[a][r]?o[a][r]+=u:(o[a][r]=u,i[a][r]=c);var d=o[a][r];return d>s?(e?this.setDataMax(d):this._max=d,!1):d<l?(e?this.setDataMin(d):this._min=d,!1):{x:a,y:r,value:u,radius:c,min:l,max:s}},_unOrganizeData:function(){var t=[],e=this._data,n=this._radi;for(var a in e)for(var r in e[a])t.push({x:a,y:r,radius:n[a][r],value:e[a][r]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0){var t=arguments[0],e=t.length;while(e--)this.addData.call(this,t[e])}else{var n=this._organiseData(arguments[0],!0);n&&(0===this._data.length&&(this._min=this._max=n.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]}))}return this},setData:function(t){var e=t.data,n=e.length;this._data=[],this._radi=[];for(var a=0;a<n;a++)this._organiseData(e[a],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),n=function(){var t=function(t){var e=t.gradient||t.defaultGradient,n=document.createElement("canvas"),a=n.getContext("2d");n.width=256,n.height=1;var r=a.createLinearGradient(0,0,256,1);for(var i in e)r.addColorStop(i,e[i]);return a.fillStyle=r,a.fillRect(0,0,256,1),a.getImageData(0,0,256,1).data},e=function(t,e){var n=document.createElement("canvas"),a=n.getContext("2d"),r=t,i=t;if(n.width=n.height=2*t,1==e)a.beginPath(),a.arc(r,i,t,0,2*Math.PI,!1),a.fillStyle="rgba(0,0,0,1)",a.fill();else{var o=a.createRadialGradient(r,i,t*e,r,i,t);o.addColorStop(0,"rgba(0,0,0,1)"),o.addColorStop(1,"rgba(0,0,0,0)"),a.fillStyle=o,a.fillRect(0,0,2*t,2*t)}return n},n=function(t){var e=[],n=t.min,a=t.max,r=t.radi,i=(t=t.data,Object.keys(t)),o=i.length;while(o--){var s=i[o],l=Object.keys(t[s]),u=l.length;while(u--){var c=l[u],d=t[s][c],h=r[s][c];e.push({x:s,y:c,value:d,radius:h})}}return{min:n,max:a,data:e}};function a(e){var n=e.container,a=this.shadowCanvas=document.createElement("canvas"),r=this.canvas=e.canvas||document.createElement("canvas"),i=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});r.className="heatmap-canvas",this._width=r.width=a.width=e.width||+i.width.replace(/px/,""),this._height=r.height=a.height=e.height||+i.height.replace(/px/,""),this.shadowCtx=a.getContext("2d"),this.ctx=r.getContext("2d"),r.style.cssText=a.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(r),this._palette=t(e),this._templates={},this._setStyles(e)}return a.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(n(t)),this._colorize())},_updateGradient:function(e){this._palette=t(e)},updateConfig:function(t){t["gradient"]&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){var n=this._min=t.min,a=this._max=t.max,r=(t=t.data||[],t.length),i=1-this._blur;while(r--){var o,s=t[r],l=s.x,u=s.y,c=s.radius,d=Math.min(s.value,a),h=l-c,m=u-c,p=this.shadowCtx;this._templates[c]?o=this._templates[c]:this._templates[c]=o=e(c,i);var f=(d-n)/(a-n);p.globalAlpha=f<.01?.01:f,p.drawImage(o,h,m),h<this._renderBoundaries[0]&&(this._renderBoundaries[0]=h),m<this._renderBoundaries[1]&&(this._renderBoundaries[1]=m),h+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=h+2*c),m+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=m+2*c)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],n=this._renderBoundaries[2]-t,a=this._renderBoundaries[3]-e,r=this._width,i=this._height,o=this._opacity,s=this._maxOpacity,l=this._minOpacity,u=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+n>r&&(n=r-t),e+a>i&&(a=i-e);for(var c=this.shadowCtx.getImageData(t,e,n,a),d=c.data,h=d.length,m=this._palette,p=3;p<h;p+=4){var f,g=d[p],y=4*g;if(y)f=o>0?o:g<s?g<l?l:g:s,d[p-3]=m[y],d[p-2]=m[y+1],d[p-1]=m[y+2],d[p]=u?m[y+3]:f}c.data=d,this.ctx.putImageData(c,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e,n=this.shadowCtx,a=n.getImageData(t.x,t.y,1,1),r=a.data[3],i=this._max,o=this._min;return e=Math.abs(i-o)*(r/255)>>0,e},getDataURL:function(){return this.canvas.toDataURL()}},a}(),a=function(){var e=!1;return"canvas2d"===t["defaultRenderer"]&&(e=n),e}(),r={merge:function(){for(var t={},e=arguments.length,n=0;n<e;n++){var a=arguments[n];for(var r in a)t[r]=a[r]}return t}},i=function(){var n=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,n){var a=this.cStore;a[t]||(a[t]=[]),a[t].push((function(t){return e.call(n,t)}))},emit:function(t,e){var n=this.cStore;if(n[t])for(var a=n[t].length,r=0;r<a;r++){var i=n[t][r];i(e)}}},t}(),i=function(t){var e=t._renderer,n=t._coordinator,a=t._store;n.on("renderpartial",e.renderPartial,e),n.on("renderall",e.renderAll,e),n.on("extremachange",(function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config["gradient"]||t._config["defaultGradient"]})})),a.setCoordinator(n)};function o(){var o=this._config=r.merge(t,arguments[0]||{});if(this._coordinator=new n,o["plugin"]){var s=o["plugin"];if(!t.plugins[s])throw new Error("Plugin '"+s+"' not found. Maybe it was not registered.");var l=t.plugins[s];this._renderer=new l.renderer(o),this._store=new l.store(o)}else this._renderer=new a(o),this._store=new e(o);i(this)}return o.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=r.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},o}(),o={create:function(t){return new i(t)},register:function(e,n){t.plugins[e]=n}};return o}))},8875:function(t,e,n){var a,r,i;(function(n,o){r=[],a=o,i="function"===typeof a?a.apply(e,r):a,void 0===i||(t.exports=i)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(m){var n,a,r,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,s=i.exec(m.stack)||o.exec(m.stack),l=s&&s[1]||!1,u=s&&s[2]||!1,c=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===c&&(n=document.documentElement.outerHTML,a=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(a,"$1").trim());for(var h=0;h<d.length;h++){if("interactive"===d[h].readyState)return d[h];if(d[h].src===l)return d[h];if(l===c&&d[h].innerHTML&&d[h].innerHTML.trim()===r)return d[h]}return null}}return t}))},"8a68":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".ldmap-vue-panorama{width:100%;height:100%}",""]),t.exports=e},"8baa":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".ldmap-vue-custom-ui[data-v-ec61ad9c]{position:absolute}.ldmap-vue-custom-ui-top[data-v-ec61ad9c]{top:0}.ldmap-vue-custom-ui-bottom[data-v-ec61ad9c]{bottom:0}.ldmap-vue-custom-ui-right[data-v-ec61ad9c]{right:0}.ldmap-vue-custom-ui-left[data-v-ec61ad9c]{left:0}.ldmap-vue-custom-ui-center-x[data-v-ec61ad9c]{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ldmap-vue-custom-ui-center-y[data-v-ec61ad9c]{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ldmap-vue-custom-ui-center[data-v-ec61ad9c]{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),t.exports=e},ac03:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".ldmap-vue-container[data-v-5e97d1a3]{position:relative;font-family:Tahoma,sans-serif}.ldmap-vue-container[data-v-5e97d1a3],.ldmap-vue-placeholder[data-v-5e97d1a3]{width:100%;height:100%}",""]),t.exports=e},ae98:function(t,e,n){var a=n("8baa");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("499e").default;r("3bc60bf5",a,!0,{sourceMap:!1,shadowMode:!1})},d535:function(t,e,n){var a=n("ac03");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("499e").default;r("3f571712",a,!0,{sourceMap:!1,shadowMode:!1})},d9c9:function(t,e,n){var a=n("14b6");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("499e").default;r("ca283e52",a,!0,{sourceMap:!1,shadowMode:!1})},e6b4:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".marker-cluster-small{background-color:rgba(181,226,140,.6)}.marker-cluster-small div{background-color:rgba(110,204,57,.6)}.marker-cluster-medium{background-color:rgba(241,211,87,.6)}.marker-cluster-medium div{background-color:rgba(240,194,12,.6)}.marker-cluster-large{background-color:rgba(253,156,115,.6)}.marker-cluster-large div{background-color:rgba(241,128,23,.6)}.marker-cluster{background-clip:padding-box;border-radius:20px;cursor:pointer}.marker-cluster div{width:34px;height:34px;margin-left:5px;margin-top:5px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}.marker-cluster span{line-height:34px}",""]),t.exports=e},e8ba:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.r(e),n.d(e,"default",(function(){return B}));var o=window.longdo,s=function(){function t(e){a(this,t),this._projection=o.Projections.EPSG3857,this._locationList=e.slice(),this._originalLocationList=this._locationList.slice(),e.length>0&&(this._bounds=o.Util.locationBound(this._locationList))}return i(t,[{key:"getBounds",value:function(){return{minLon:this._bounds.minLon,minLat:this._bounds.minLat,maxLon:this._bounds.maxLon,maxLat:this._bounds.maxLat}}},{key:"LT",value:function(){return{lon:this._bounds.minLon,lat:this._bounds.maxLat}}},{key:"RT",value:function(){return{lon:this._bounds.maxLon,lat:this._bounds.maxLat}}},{key:"LB",value:function(){return{lon:this._bounds.minLon,lat:this._bounds.minLat}}},{key:"RB",value:function(){return{lon:this._bounds.maxLon,lat:this._bounds.minLat}}},{key:"getMinimumBounds",value:function(){var t=o.Util.locationBound(this._originalLocationList);return t}},{key:"add",value:function(t){this._locationList.push(t),this._originalLocationList.push(t),this._bounds=o.Util.locationBound(this._locationList)}},{key:"remove",value:function(t){this._locationList=this._locationList.filter((function(e){return e!==t})),this._originalLocationList=this._originalLocationList.filter((function(e){return e!==t})),this._bounds=this.empty()?null:o.Util.locationBound(this._locationList)}},{key:"empty",value:function(){return 0===this._locationList.length}},{key:"getLocations",value:function(){return this._locationList.slice()}},{key:"isLocInBounds",value:function(t){var e=o.Util.contains(t,this.getRectVertex());return null===e||e}},{key:"extendSize",value:function(t){var e=this._bounds,n=this._projection.latToNorm(e.maxLat)+t,a=this._projection.latToNorm(e.minLat)-t;return this._locationList.push({lon:e.minLon-t,lat:this._projection.normToLat(a)}),this._locationList.push({lon:e.minLon-t,lat:this._projection.normToLat(n)}),this._locationList.push({lon:e.minLon+t,lat:this._projection.normToLat(a)}),this._locationList.push({lon:e.maxLon+t,lat:this._projection.normToLat(n)}),this._bounds=o.Util.locationBound(this._locationList),this}},{key:"getRectVertex",value:function(){return[{lon:this._bounds.minLon,lat:this._bounds.minLat},{lon:this._bounds.minLon,lat:this._bounds.maxLat},{lon:this._bounds.maxLon,lat:this._bounds.maxLat},{lon:this._bounds.maxLon,lat:this._bounds.minLat}]}},{key:"drawArea",value:function(t){this._poly=new o.Polygon(this.getRectVertex()),t.Overlays.add(this._poly)}},{key:"removeArea",value:function(t){this._poly&&this._poly.active()&&(t.Overlays.remove(this._poly),delete this._poly)}},{key:"getNxNGridCord",value:function(t,e){if(!this.isLocInBounds(t))return null;var n=(this._bounds.maxLon-this._bounds.minLon)/e,a=(this._lat2y(this._bounds.maxLat)-this._lat2y(this._bounds.minLat))/e,r=t.lon-this._bounds.minLon,i=-this._lat2y(t.lat)+this._lat2y(this._bounds.maxLat),o=Math.floor(r/n),s=Math.floor(i/a);return{u:o,v:s}}},{key:"_y2lat",value:function(t){return 90*(Math.atan(Math.exp(t/(180/Math.PI)))/(Math.PI/4)-1)}},{key:"_lat2y",value:function(t){return Math.log(Math.tan((t/90+1)*(Math.PI/4)))*(180/Math.PI)}}],[{key:"generateFrom",value:function(e){return new t([{lon:e.minLon,lat:e.minLat},{lon:e.maxLon,lat:e.maxLat}])}},{key:"generateRect",value:function(e,n){return n||(n=e),new t([e,n])}}]),t}();function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function t(e){l(this,t),this.maxZoom=e.maxZoom||null,this.minClusterSize=e.minClusterSize||2,this.textColor=e.textColor||"black",this.customOuterClusterCSS=e.customOuterClusterCSS||{},this.customInnerClusterCSS=e.customInnerClusterCSS||{},this.customTextClusterCSS=e.customTextClusterCSS||{},this.gridSize=e.gridSize||120,this.clusterRadius=e.clusterRadius||this.gridSize,this.averageCenter=e.averageCenter,this.drawMarkerArea=e.drawMarkerArea,this.swarmModeEnabled=e.swarmModeEnabled,this.swarmAlg=e.swarmAlg?parseInt(e.swarmAlg,10):null,this.styles=e.styles||null,this.swarmGridLength=e.swarmGridLength?parseInt(e.swarmGridLength,10):null,this.swarmMarkersMaxLimit=e.swarmMarkersMaxLimit?parseInt(e.swarmMarkersMaxLimit,10):null,this.swarmMarkersAmountAdjust=e.swarmMarkersAmountAdjust,this.swarmMarkersMaxAmountPerTile=e.swarmMarkersMaxAmountPerTile?parseInt(e.swarmMarkersMaxAmountPerTile,10):null,this.swarmMarkersConstPerGrid=e.swarmMarkersConstPerGrid?parseInt(e.swarmMarkersConstPerGrid,10):null};function c(t){return p(t)||m(t)||h(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function m(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function p(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function v(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}var _=window.longdo,w=function(){function t(e,n,a){g(this,t),this._cluster=e,this._config=n,this._iloader=a,this._center=null,this._map=e._map,this._sums=null,this._clusterMarker=new _.Marker({lat:0,lon:0},{icon:this._cluster._markerCluster._iloader.getIcon(0),weight:_.OverlayWeight.Top})}return v(t,[{key:"show",value:function(){var t=this._cluster._markers.length;if(this._config.swarmModeEnabled){if(1===this._config.swarmAlg){var e=new Array(this._config.swarmGridLength*this._config.swarmGridLength).fill(0),n=0;while(t--){if(n>=this._config.swarmMarkersMaxAmountPerTile)break;var a=this._cluster._markers[t],r=this._cluster._gridids[t],i=r.u*this._config.swarmGridLength+r.v;e[i]%this._config.swarmMarkersConstPerGrid===0&&(a.active()||this._map.Overlays.add(a),n++),e[i]++}}else if(2===this._config.swarmAlg){this._calculateMarkersDispAmount();var o=0;while(t--){if(o>this._config.swarmMarkersMaxLimit)break;var s=this._cluster._markers[t];this.swarmAlg2Decider(o,this._cluster._markers.length-t-1)&&(s.active()||this._map.Overlays.add(s),o++)}return}}else{var l=this._center;if(this._cluster._markers.length<this._config.minClusterSize){var u=this._cluster._markers[0];return void(u.active()||this._map.Overlays.add(u))}var c=this._map.zoom(),d=this._config.maxZoom;if(d&&c>d||20===c){while(t--){var h=this._cluster._markers[t];h.active()||this._cluster._map.Overlays.add(h)}return}this._clusterMarker.active()?this._map.Overlays.move(this._clusterMarker,l):(this._clusterMarker.setLocation(l),this._map.Overlays.add(this._clusterMarker),this._poly&&this._map.Overlays.remove(this._poly),this._config.drawMarkerArea&&(this._poly=new _.Polygon(this._cluster._bounds.getRectVertex(),{fillColor:"rgba(0,0,0,0.3)"}),this._map.Overlays.add(this._poly)))}}},{key:"_calculateMarkersDispAmount",value:function(){var t=function(t,e,n){if(0===t)return 0;var a=t/e*49-13,r=Math.round(n*(1/(1+Math.exp(-a))));return 0===r?1:r};this._maxDispAmount=t(this._cluster._markers.length,this._cluster._markerCluster._maxClusterSize,this._config.swarmMarkersMaxLimit)}},{key:"swarmAlg2Decider",value:function(t,e){return this._config.swarmMarkersAmountAdjust?this._maxDispAmount>t:t<=5||e%10===0}},{key:"remove",value:function(){this._map.Overlays.remove(this._clusterMarker),this._poly&&(this._map.Overlays.remove(this._poly),this._poly=null)}},{key:"setCenter",value:function(t){this._center=t}},{key:"setSums",value:function(t){this._sums&&t===this._sums||(this._sums=t,this._clusterMarker&&this._clusterMarker.element()&&this._iloader.changeNumber(this._clusterMarker.element(),this._sums))}}]),t}(),b=function(){function t(e,n){g(this,t),this._markerCluster=e,this._config=n,this._images=new Map,this.ready=!0,this.useDefault=!0,this._config.styles&&this.loadStyles(this._config.styles)}return v(t,[{key:"load",value:function(t,e,n,a,r){this.ready=!1,this.useDefault=!1;var i=new Image(e,n);this._images.set(i,{ready:!1,minThreshold:a});var o=this;return i.onload=function(){o._images.get(i).ready=!0,c(o._images.values()).every((function(t){return t.ready}))&&(o.ready=!0,o._markerCluster.resetViewport(),o._markerCluster._createClusters()),r&&r()},i.src=t,this._images.keys.length-1}},{key:"loadStyles",value:function(t){t.sort((function(t,e){return t.minThreshold<e.minThreshold?1:t.minThreshold===e.minThreshold?0:-1}));var e=t.length,n=this;while(e--){var a=t[e];this.load(a.url,a.width,a.height,a.minThreshold,0===e?function(){return n.ready=!0}:null)}}},{key:"getIcon",value:function(t){var e={offset:{x:0,y:0}};if(this.useDefault||"undefined"===typeof t){var n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("span");if(n.appendChild(a),a.appendChild(r),n.style.width="44px",n.style.height="44px",n.style.marginLeft="-22px",n.style.marginTop="-22px",n.style.overflow="hidden",n.style.color="".concat(this._config.textColor),n.className="marker-cluster marker-cluster-small leaflet-marker-icon",this._config.customOuterClusterCSS)for(var i in this._config.customOuterClusterCSS)if(Object.hasOwnProperty.call(this._config.customOuterClusterCSS,i)){var o=this._config.customOuterClusterCSS[i];n.style[i]=o}if(this._config.customInnerClusterCSS)for(var s in this._config.customInnerClusterCSS)if(Object.hasOwnProperty.call(this._config.customInnerClusterCSS,s)){var l=this._config.customInnerClusterCSS[s];a.style[s]=l}if(this._config.customTextClusterCSS)for(var u in this._config.customTextClusterCSS)if(Object.hasOwnProperty.call(this._config.customTextClusterCSS,u)){var d=this._config.customTextClusterCSS[u];r.style[u]=d}e.html=n.outerHTML,e.size={width:44,height:44}}else{var h=c(this._images.keys())[t],m=document.createElement("div");if(m.style.width="".concat(h.width,"px"),m.style.height="".concat(h.height,"px"),m.style.marginLeft="-".concat(h.width/2,"px"),m.style.marginTop="-".concat(h.height/2,"px"),m.style.background="url('".concat(encodeURI(h.src),"') no-repeat center top"),m.style.lineHeight=m.style.height,m.style.color="".concat(this._config.textColor),m.style.fontWeight="bold",m.style.textAlign="center",this._config.customTextClusterCSS)for(var p in this._config.customTextClusterCSS)if(Object.hasOwnProperty.call(this._config.customTextClusterCSS,p)){var f=this._config.customTextClusterCSS[p];m.style[p]=f}e.html=m.outerHTML,e.size={width:h.width,height:h.height}}return e}},{key:"changeNumber",value:function(t,e){if(this.useDefault)t.children[0].children[0].children[0].innerText="".concat(e.toLocaleString()),t.children[0].className=e<10?"marker-cluster marker-cluster-small":e<100?"marker-cluster marker-cluster-medium":"marker-cluster marker-cluster-large";else{t.children[0].innerText="".concat(e.toLocaleString());var n=c(this._images.keys()),a=n.length;while(a--){var r=n[a];if(e>=this._images.get(r).minThreshold){var i=t;i.style.width="".concat(r.width,"px"),i.style.height="".concat(r.height,"px"),i=i.children[0],i.style.background="url('".concat(encodeURI(r.src),"') no-repeat center top"),i.style.width="".concat(r.width,"px"),i.style.height="".concat(r.height,"px"),i.style.lineHeight=i.style.height;break}}}}}]),t}();function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function M(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t}var C=window.longdo,S=function(){function t(e,n,a){k(this,t),this._markerCluster=e,this._config=n,this._map=e._map,this._center=null,this._markers=[],this._bounds=null,this._clusterIcon=new w(this,this._config,a)}return M(t,[{key:"addMarker",value:function(t,e){return this._center?this._config.averageCenter&&(this._center=C.Util.averageLocation(C.Projections.EPSG3857,this._center,t.location()),this._calculateBounds()):(this._center=t.location(),this._calculateBounds()),t.isAdded=!0,this._markers.push(t),this._config.drawMarkerArea&&this._bounds.drawArea(this._map),this._config.swarmModeEnabled&&1===this._config.swarmAlg&&(this._gridids||(this._gridids=[]),this._gridids.push(s.generateFrom(C.Util.boundOfTile(C.Projections.EPSG3857,e)).getNxNGridCord(t.location(),this._config.swarmGridSize))),!0}},{key:"remove",value:function(){this._clusterIcon.remove(),this._markers.length=0,delete this._markers,this._bounds.removeArea(this._map)}},{key:"_calculateBounds",value:function(){this._bounds=s.generateRect(this._center).extendSize(this._config.gridSize*Math.pow(2,-this._map.zoom()))}},{key:"isMarkerInClusterBounds",value:function(t){return this._bounds.isLocInBounds(t.location())}},{key:"finalize",value:function(){this._clusterIcon.setSums(this._markers.length),this._clusterIcon.setCenter(this._center),this._clusterIcon.show()}}]),t}();function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function P(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}if("undefined"===typeof window.longdo)throw new Error("longdo API must be loaded before the longdomap markercluster plugin");var T=window.longdo,B=function(){function t(e,n){L(this,t),this._map=e,this._markers=[],this._clusters=[],this._prevZoom=2,this._ready=!1,this.overlay=[],this.config=new u(n),this._iloader=new b(this,this.config);var a=this;this._map.Event.bind("ready",(function(){a._ready&&a._iloader.ready&&(a._prevZoom=a._map.zoom,a.resetViewport(),a._createClusters())})),this._map.Event.bind("zoom",(function(){a._ready&&a._iloader.ready&&a.resetViewport()})),this._map.Event.bind("overlayClick",(function(t){if(a.setSelectedMarker(t),a._ready&&a._iloader.ready){var e=a._clusters.length;while(e--){var n=a._clusters[e];if(t===n._clusterIcon._clusterMarker){var r=[],i=n._markers.length;while(i--)r.push(n._markers[i].location());return void a._map.bound(T.Util.locationBound(r))}}}})),this._map.Event.bind("loadTile",(function(t){"start"!==t&&a._ready&&a._iloader.ready&&(a.resetViewport(),a._createClusters())}))}return P(t,[{key:"addMarkers",value:function(t){t instanceof T.Marker&&(t=[t]);var e=t.length;while(e--){var n=t[e];this._markers.push(n)}this.config.swarmModeEnabled&&this.shuffle()}},{key:"shuffle",value:function(){for(var t=this._markers.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),n=this._markers[t];this._markers[t]=this._markers[e],this._markers[e]=n}}},{key:"getSelectedMarker",value:function(){return this.overlay?this.overlay:null}},{key:"setSelectedMarker",value:function(t){t&&t.element()&&t.element().classList.contains("ldmap_clickable")&&(this.overlay=t)}},{key:"render",value:function(){this._ready=!0,this._iloader.ready&&(this.resetViewport(),this._createClusters())}},{key:"_createClusters",value:function(){var t=s.generateFrom(this._map.bound()),e=t.extendSize(this.config.gridSize*Math.pow(2,-this._map.zoom())),n=this._markers.length;while(n--){var a=this._markers[n],r=a.location();!a.isAdded&&e.isLocInBounds(r)&&(this.config.swarmModeEnabled?2===this.config.swarmAlg?this._addToClosestCluster(a):this._addToTiledCluster(a):this._addToClosestCluster(a))}n=this._clusters.length;while(n--){var i=this._clusters[n];i.finalize()}}},{key:"_addToClosestCluster",value:function(t){var e=Number.POSITIVE_INFINITY,n=null,a=this._clusters.length;while(a--){var r=this._clusters[a],i=r._center;if(i){var o=T.Util.distance([i,t.location()]);o<e&&(e=o,n=r)}}if(n&&n.isMarkerInClusterBounds(t))n.addMarker(t),this._maxClusterSize&&(this._maxClusterSize,n._markers.length),this._maxClusterSize=n._markers.length;else{var s=new S(this,this.config,this._iloader);s.addMarker(t),this._clusters.push(s),this._maxClusterSize&&(this._maxClusterSize,s._markers.length),this._maxClusterSize=s._markers.length}}},{key:"_addToTiledCluster",value:function(t){var e=this,n=function(t){var n=T.Util.locationToPoint(T.Projections.EPSG3857,t);return n.z=20-e._map.zoom(),T.Util.pointToTile(n)},a=n(t.location()),r=this._clusters.length;while(r--){var i=this._clusters[r];if(i.u===a.u&&i.v===a.v)return void i.addMarker(t,a)}var o=new S(this,this.config,this._iloader);o.u=a.u,o.v=a.v,o.addMarker(t,a),this._clusters.push(o)}},{key:"_removeMarker",value:function(t){var e=this._markers.indexOf(t);return-1!==e&&(this._map.Overlays.remove(t),this._markers.splice(e,1),!0)}},{key:"removeMarker",value:function(t){var e=this._removeMarker(t);return!!e&&(this.resetViewport(),this._createClusters(),!0)}},{key:"removeMarkers",value:function(t){var e=t===this._markers?this._markers.slice():t,n=!1,a=e.length;while(a--){var r=this._removeMarker(e[a]);n=n||r}return!!n&&(this.resetViewport(),this._createClusters(),!0)}},{key:"clearMarkers",value:function(){this.resetViewport();var t=this._markers.length;while(t--){var e=this._markers[t];this._map.Overlays.remove(e)}this._markers=[]}},{key:"resetViewport",value:function(){var t=this._clusters.length;while(t--)this._clusters[t].remove();t=this._markers.length;while(t--){var e=this._markers[t];e.isAdded=!1,this._map.Overlays.remove(e)}this._clusters=[]}}]),t}()},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"LongdoMap",(function(){return _})),n.d(e,"LongdoMapMarker",(function(){return x})),n.d(e,"LongdoMapDot",(function(){return S})),n.d(e,"LongdoMapCircle",(function(){return L})),n.d(e,"LongdoMapRectangle",(function(){return O})),n.d(e,"LongdoMapPolygon",(function(){return P})),n.d(e,"LongdoMapPolyline",(function(){return T})),n.d(e,"LongdoMapPolycurve",(function(){return B})),n.d(e,"LongdoMapLockScreen",(function(){return D})),n.d(e,"LongdoMapLockMap",(function(){return V})),n.d(e,"LongdoMapMenuBar",(function(){return F})),n.d(e,"LongdoMapTagPanel",(function(){return q})),n.d(e,"LongdoMapCustomControl",(function(){return K})),n.d(e,"LongdoMapCustomUi",(function(){return J})),n.d(e,"LongdoMapMarkerCluster",(function(){return rt})),n.d(e,"LongdoMapHeatmap",(function(){return ut})),n.d(e,"LongdoMapPanorama",(function(){return yt})),"undefined"!==typeof window){var a=window.document.currentScript,r=n("8875");a=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var i=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var o={apiKey:null,src:"https://api.longdo.com/map/",promise:null,beforeInit:null,debug:!1,load:function(t){var e=t.apiKey,n=void 0===e?null:e,a=t.src,r=void 0===a?null:a,i=t.beforeInit,o=void 0===i?null:i,s=t.debug,l=void 0!==s&&s;if("undefined"!==typeof window)if(window.longdo)console.warn("Longdo Map Vue: Longdo Map API is already loaded");else{var u=this.src;r&&(u=r,this.src=r);var c={};n&&(c["key"]=n,this.apiKey=n),l&&(c["debug"]=!0,this.debug=!0);var d=new URLSearchParams(c);d&&(u+="?".concat(d)),o&&(this.beforeInit=o),this.importLongdoMap(u)}},initLongdoMap:function(t){if(!window.longdo)throw new Error("Longdo Map Vue: Longdo Map API is not found");this.beforeInit&&this.beforeInit(window.longdo),t()},importLongdoMap:function(t){this.promise=new Promise((function(e,n){var a=document.createElement("script");a.onload=function(){e()},a.onerror=function(){n()},a.async=!0,a.src=t,document.body.appendChild(a)}))}},s=o,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ldmap-vue-container"},[n("div",{ref:"map",staticClass:"ldmap-vue-placeholder"}),t._t("default")],2)},u=[];function c(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function d(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var m={projection:{type:String,default:null},layer:{type:Array,default:null},zoom:{type:Number,default:null},zoomRange:{type:Object,default:null},location:{type:Object,default:null},ui:{type:String,default:null},input:{type:Boolean,default:null},autoResize:{type:Boolean,default:null},lastView:{type:Boolean,default:null},smoothZoom:{type:Boolean,default:null},language:{type:String,default:null}},p={props:m,methods:{getMapOptions:function(){var t={};for(var e in m)null!==this[e]&&("projection"===e?t.projection=window.longdo.Projections[this.projection]:"layer"===e?t.layer=this.getLayers(this.layer):"ui"===e?t.ui=window.longdo.UiComponent[this.ui]:t[e]=this[e]);return t},getLayers:function(t){var e,n=[],a=c(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.push(window.longdo.Layers[r])}}catch(i){a.e(i)}finally{a.f()}return n}}},f={name:"LongdoMap",mixins:[p],data:function(){return{map:null,mapPromise:null}},created:function(){var t=this;this.mapPromise=s.promise,this.mapPromise.then((function(){s.initLongdoMap(t.initLongdoMap)}))},methods:{initLongdoMap:function(){var t=this.getMapOptions();t.placeholder=this.$refs.map,this.map=new window.longdo.Map(t),t.zoomRange&&this.map.zoomRange(t.zoomRange),this.$emit("load",this.map)}},init:function(t){var e=t.apiKey,n=t.src,a=void 0===n?void 0:n,r=t.checkApiKey,i=void 0===r||r;s.load({apiKey:e,src:a,checkApiKey:i})}},g=f;n("5237");function y(t,e,n,a,r,i,o,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=s?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}var v=y(g,l,u,!1,null,"5e97d1a3",null),_=v.exports,w={data:function(){return{mapReady:this.$parent.mapPromise||new Promise((function(){return console.error("Longdo Map Vue: Longdo Map API is not ready")}))}},render:function(){return""}},b={location:{type:Object,default:null},title:{type:String,default:null},icon:{type:Object,default:null},detail:{type:String,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},clickable:{type:Boolean,default:null},draggable:{type:Boolean,default:null},weight:{type:String,default:null},rotate:{type:Number,default:null},iconStyle:{type:String,default:null}},k={props:b,methods:{getMarkerOptions:function(){var t={};for(var e in b)if(null!==this[e])if("weight"===e){var n=window.longdo.OverlayWeight[this.weight];n&&(t.weight=n)}else"iconStyle"===e?t.style=this[e]:t[e]=this[e];return t}}},x={name:"LongdoMarker",mixins:[w,k],data:function(){return{marker:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addMarker(t.location,t.getMarkerOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.marker)},methods:{addMarker:function(t,e){this.marker=new window.longdo.Marker(t,e),this.$parent.map.Overlays.add(this.marker),this.$emit("add",this.marker)}}},M={location:{type:Object|Array,default:null},radius:{type:Number,default:null},size:{type:Number|Object,default:null},title:{type:String,default:null},detail:{type:String,default:null},label:{type:String,default:null},labelOptions:{type:Object,default:null},popup:{type:Object,default:null},visibleRange:{type:Object,default:null},lineWidth:{type:Number,default:null},lineColor:{type:String,default:null},fillColor:{type:String,default:null},lineStyle:{type:String,default:null},pivot:{type:Object,default:null},clickable:{type:Boolean,default:null},editable:{type:Boolean,default:null},pointer:{type:Boolean,default:null},draggable:{type:Boolean,default:null},rotatable:{type:Boolean,default:null},weight:{type:String,default:null},texture:{type:String,default:null},textureAlpha:{type:Number,default:null},linePattern:{type:String,default:null}},C={props:M,methods:{getGeometryOptions:function(){var t={};for(var e in M)if(null!==this[e])if("weight"===e){var n=window.longdo.OverlayWeight[this.weight];n&&(t.weight=n)}else"lineStyle"===e?t.lineStyle=window.longdo.LineStyle[this.lineStyle]:t[e]=this[e];return t}}},S={name:"LongdoDot",mixins:[w,C],data:function(){return{dot:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addDot(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.dot)},methods:{addDot:function(t,e){this.dot=new window.longdo.Dot(t,e),this.$parent.map.Overlays.add(this.dot),this.$emit("add",this.dot)}}},L={name:"LongdoCircle",mixins:[w,C],data:function(){return{circle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addCircle(t.location,t.radius,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.circle)},methods:{addCircle:function(t,e,n){this.circle=new window.longdo.Circle(t,e,n),this.$parent.map.Overlays.add(this.circle),this.$emit("add",this.circle)}}},O={name:"LongdoRectangle",mixins:[w,C],data:function(){return{rectangle:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addRectangle(t.location,t.size,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.rectangle)},methods:{addRectangle:function(t,e,n){this.rectangle=new window.longdo.Rectangle(t,e,n),this.$parent.map.Overlays.add(this.rectangle),this.$emit("add",this.rectangle)}}},P={name:"LongdoPolygon",mixins:[w,C],data:function(){return{polygon:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolygon(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polygon)},methods:{addPolygon:function(t,e){this.polygon=new window.longdo.Polygon(t,e),this.$parent.map.Overlays.add(this.polygon),this.$emit("add",this.polygon)}}},T={name:"LongdoPolyline",mixins:[w,C],data:function(){return{polyline:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolyline(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polyline)},methods:{addPolyline:function(t,e){this.polyline=new window.longdo.Polyline(t,e),this.$parent.map.Overlays.add(this.polyline),this.$emit("add",this.polyline)}}},B={name:"LongdoPolycurve",mixins:[w,C],data:function(){return{polycurve:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addPolycurve(t.location,t.getGeometryOptions())}))},destroyed:function(){this.$parent.map.Overlays.remove(this.polycurve)},methods:{addPolycurve:function(t,e){this.polycurve=new window.longdo.Polycurve(t,e),this.$parent.map.Overlays.add(this.polycurve),this.$emit("add",this.polycurve)}}},E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.lockScreenReady,expression:"lockScreenReady"}],class:["ldmap-vue-lock-screen",{"ldmap-vue-lock-screen-unlock":!t.value}]},["touch"===t.mode?n("div",{ref:"areaTouchMode",staticClass:"ldmap-vue-lock-screen-area",on:{touchstart:t.touchStartEvent,touchmove:t.touchMoveEvent,touchend:t.touchEndEvent}},[n("div",{staticClass:"ldmap-vue-lock-screen-area-message"},[t._v(" "+t._s(t.unlockMessageTouch)+" ")])]):"keyboard"===t.mode?n("div",{ref:"areaKeyboardMode",staticClass:"ldmap-vue-lock-screen-area",on:{wheel:t.wheelEvent,click:t.clickEvent}},[n("div",{staticClass:"ldmap-vue-lock-screen-area-message"},[t._v(" "+t._s(t.unlockMessageKeyboard)+" ")])]):t.hideButton?t._e():n("div",{staticClass:"ldmap-vue-lock-screen-button-container"},[t._t("button",[n("button",{staticClass:"ldmap-vue-lock-screen-button",on:{click:function(e){return t.lockMap(!t.value)}}},[t._v(" "+t._s(t.value?t.unlockMessage:t.lockMessage)+" ")])])],2)])},j=[],R={name:"LockScreen",mixins:[w],props:{value:{type:Boolean,default:!0},mode:{type:String,default:"button"},lockMessage:{type:String,default:"Lock"},unlockMessage:{type:String,default:"Unlock"},unlockMessageTouch:{type:String,default:"Use two fingers to move the map"},unlockMessageKeyboard:{type:String,default:"Press and hold ".concat(-1!=navigator.appVersion.indexOf("Mac")?"⌘":"Ctrl"," to move the map")},hideButton:{type:Boolean,default:!1}},data:function(){return{lockScreenReady:!1,wheelTimeout:void 0}},mounted:function(){var t=this;this.mapReady.then((function(){t.lockScreenReady=!0,"keyboard"===t.mode&&t.setKeyboardMode()}))},methods:{keyDownEvent:function(t){"Meta"!==t.key&&"Control"!==t.key||this.lockMap(!1)},keyUpEvent:function(t){"Meta"!==t.key&&"Control"!==t.key||this.lockMap(!0)},wheelEvent:function(){var t=this;"keyboard"===this.mode&&!this.wheelTimeout&&this.$refs.areaKeyboardMode&&(this.$refs.areaKeyboardMode.classList.add("ldmap-vue-lock-screen-area-active"),this.wheelTimeout=setTimeout((function(){t.$refs.areaKeyboardMode.classList.remove("ldmap-vue-lock-screen-area-active"),t.wheelTimeout=void 0}),1e3))},setKeyboardMode:function(){window.addEventListener("keydown",this.keyDownEvent),window.addEventListener("keyup",this.keyUpEvent)},clickEvent:function(){var t=this;"keyboard"===this.mode&&!this.wheelTimeout&&this.$refs.areaKeyboardMode&&(this.$refs.areaKeyboardMode.classList.add("ldmap-vue-lock-screen-area-active"),this.wheelTimeout=setTimeout((function(){t.$refs.areaKeyboardMode.classList.remove("ldmap-vue-lock-screen-area-active"),t.wheelTimeout=void 0}),1e3))},touchStartEvent:function(t){"touch"===this.mode&&t.touches.length>0&&(this.lockMap(!1),this.$refs.areaTouchMode.classList.add("ldmap-vue-lock-screen-area-active"))},touchMoveEvent:function(t){"touch"===this.mode&&t.touches.length>1&&this.$refs.areaTouchMode.classList.remove("ldmap-vue-lock-screen-area-active")},touchEndEvent:function(){"touch"===this.mode&&(this.lockMap(!0),this.$refs.areaTouchMode.classList.remove("ldmap-vue-lock-screen-area-active"))},clearKeyboardModeEvent:function(){window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent)},lockMap:function(t){this.$emit("input",t)}},watch:{mode:function(t){this.clearKeyboardModeEvent(),"keyboard"===t&&this.setKeyboardMode()}}},A=R,I=(n("6f1e"),y(A,E,j,!1,null,"f7d580b0",null)),D=I.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"ldmap-vue-lock-map"},[t._t("default")],2)},N=[],U={name:"LockMap",mixins:[w],props:{lock:{type:Boolean,default:!0}},mounted:function(){var t=this;this.mapReady.then((function(){if(t.$parent.map.Ui.lockMap(),t.$slots.default){var e=t.$refs.container,n=document.getElementsByClassName("ldmap_lock_button")[0];n?n.parentNode.replaceChild(e,n):console.warn("Longdo Map Vue: lockMap can be called only once")}}))},methods:{lockOverlay:function(t){var e=document.getElementsByClassName("ldmap_lock_overlay")[0];e&&(e.style.display=t?"block":"none")}},watch:{lock:function(t){this.lockOverlay(t)}}},z=U,G=y(z,$,N,!1,null,null,null),V=G.exports,F={name:"MenuBar",mixins:[w],data:function(){return{menuBar:null}},props:{button:{type:Array,default:function(){return[]}},dropdown:{type:Array,default:function(){return[]}},dropdownLabel:{type:String,default:null},change:{type:Function,default:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addMenuBar()}))},destroyed:function(){this.$parent.map.Ui.remove(this.menuBar)},methods:{addMenuBar:function(){var t={};this.button.length&&(t.button=this.button),this.dropdown.length&&(t.dropdown=this.dropdown),this.dropdownLabel&&(t.dropdownLabel=this.dropdownLabel),this.change&&(t.change=this.change),this.menuBar=new window.longdo.MenuBar(t),this.$parent.map.Ui.add(this.menuBar),this.$emit("add",this.menuBar)}}},q={name:"TagPanel",mixins:[w],data:function(){return{tagPanel:null}},props:{tag:{type:Array,default:null}},mounted:function(){var t=this;this.mapReady.then((function(){t.addTagPanel()}))},destroyed:function(){this.$parent.map.Ui.remove(this.tagPanel)},methods:{addTagPanel:function(){this.tagPanel=this.tag?new window.longdo.TagPanel({tag:this.tag}):new window.longdo.TagPanel,this.$parent.map.Ui.add(this.tagPanel),this.$emit("add",this.tagPanel)}}},K={name:"CustomControl",mixins:[w],data:function(){return{customControl:null}},props:{html:{type:String,default:""}},mounted:function(){var t=this;this.mapReady.then((function(){t.addCustomControl()}))},destroyed:function(){this.$parent.map.Ui.remove(this.customControl)},methods:{addCustomControl:function(){this.customControl=new window.longdo.CustomControl({html:this.html}),this.$parent.map.Ui.add(this.customControl),this.$emit("add",this.customControl)}}},H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.position},[t._t("default")],2)},Y=[],X={name:"CustomUi",mixins:[w],props:{vertical:{type:String,default:"top"},horizontal:{type:String,default:"left"},custom:{type:Boolean,default:!1}},computed:{position:function(){if(!this.custom){var t="center"===this.vertical&&"center"===this.horizontal,e="top"!==this.vertical&&"center"!==this.vertical&&"bottom"!==this.vertical;return{"ldmap-vue-custom-ui":!0,"ldmap-vue-custom-ui-top":"top"===this.vertical||e,"ldmap-vue-custom-ui-bottom":"bottom"===this.vertical,"ldmap-vue-custom-ui-right":"right"===this.horizontal,"ldmap-vue-custom-ui-left":"left"===this.horizontal,"ldmap-vue-custom-ui-center-y":"center"===this.vertical&&!t,"ldmap-vue-custom-ui-center-x":"center"===this.horizontal&&!t,"ldmap-vue-custom-ui-center":t}}}}},W=X,Z=(n("5087"),y(W,H,Y,!1,null,"ec61ad9c",null)),J=Z.exports,Q={markerList:{type:Array,default:[]},maxZoom:{type:Number,default:null},minClusterSize:{type:Number,default:null},textColor:{type:String,default:null},customOuterClusterCSS:{type:Object,default:null},customInnerClusterCSS:{type:Object,default:null},customTextClusterCSS:{type:Object,default:null},gridSize:{type:Number,default:null},clusterRadius:{type:Number,default:null},averageCenter:{type:Boolean,default:null},drawMarkerArea:{type:Boolean,default:null},swarmModeEnabled:{type:Boolean,default:null},swarmAlg:{type:Number,default:null},styles:{type:Array,default:null},swarmGridLength:{type:Number,default:null},swarmMarkersMaxLimit:{type:Number,default:null},swarmMarkersAmountAdjust:{type:Boolean,default:null},swarmMarkersMaxAmountPerTile:{type:Number,default:null},swarmMarkersConstPerGrid:{type:Number,default:null},defaultCss:{type:Boolean,default:!0}},tt={props:Q,methods:{getMarkerClusterOptions:function(){var t={};for(var e in Q)"markerList"!==e&&null!==this[e]&&(t[e]=this[e]);return t}}};function et(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=nt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function nt(t,e){if(t){if("string"===typeof t)return at(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(t,e):void 0}}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var rt={name:"LongdoMarkerCluster",mixins:[w,tt],data:function(){return{markerCluster:null}},mounted:function(){var t=this;this.mapReady.then((function(){var e=n("e8ba").default;t.markerCluster=new e(t.$parent.map,t.getMarkerClusterOptions()),t.$emit("add",t.markerCluster),t.renderMarkerCluster(),t.defaultCss&&n("3c6a")}))},destroyed:function(){this.markerCluster.clearMarkers()},methods:{renderMarkerCluster:function(){this.markerCluster&&this.markerCluster.clearMarkers();var t,e=et(this.markerList);try{for(e.s();!(t=e.n()).done;){var n=t.value,a=new window.longdo.Marker(n.location,n.options);this.markerCluster.addMarkers(a)}}catch(r){e.e(r)}finally{e.f()}this.markerCluster.render()}},watch:{markerList:function(){this.renderMarkerCluster()}}},it={data:{type:Object,default:null},backgroundColor:{type:String,default:null},gradient:{type:Object,default:null},radius:{type:Number,default:null},opacity:{type:Number,default:null},maxOpacity:{type:Number,default:null},minOpacity:{type:Number,default:null},onExtremaChange:{type:Function,default:null},blur:{type:Number,default:null},xField:{type:String,default:null},yField:{type:String,default:null},valueField:{type:String,default:null},scaleRadius:{type:Boolean,default:null},useLocalExtrema:{type:Boolean,default:null}},ot={props:it,methods:{getHeatmapOptions:function(){var t={};for(var e in it)"data"!==e&&null!==this[e]&&(t[e]=this[e]);return t}}},st=n("7397"),lt={heatmap:function(t){var e=function(t){this._initialize(t);var e=this;longdo.Layer.call(this,"heatmaplayer",{type:longdo.LayerType.Custom,defer:function(t,n,a,r){setTimeout((function(){var i=e._getURL(n,a,r);t.src=i}),0)}})};return e.prototype=Object.create(longdo.Layer.prototype),e.prototype.constructor=e,e.prototype._initialize=function(e){this.cfg=e,this._data=[],this._max=1,this._min=0,this.Cache=[],this.tileNumSqrtX=this.tileNumSqrtY=4,this.tileResSqrt=256,this.cfg.container=document.createElement("div"),this.cfg.container.style.cssText="width:"+this.tileResSqrt+"px;height:"+this.tileResSqrt+"px",this.cfg.width=this.cfg.height=this.tileResSqrt,this._heatmap=t.create(this.cfg)},e.prototype._getURL=function(t,e,n){this.tileNumSqrtX=2<<n-1,this.tileNumSqrtY=t==longdo.Projections.EPSG4326?this.tileNumSqrtX/2:this.tileNumSqrtX;var a=this._data.length,r={data:[],max:this._max,min:this._min},i=!1;if(0==this._data.length)return this._heatmap&&this._heatmap.setData(r),"";var o=0,s=0;while(a--){var l=this._data[a],u=this._getTileIncludeLatlon(l,t),c=2<<n-1,d=this.cfg.scaleRadius?c:1,h=l.radius?l.radius*d:(this.cfg.radius||2)*d,m=1+h/this.tileResSqrt;if(Math.abs(u.u-e.u)<=Math.ceil(m)&&Math.abs(u.v-e.v)<=Math.ceil(m)){var p=360/this.tileNumSqrtX,f=l.lon+180-e.u*p,g=180/this.tileNumSqrtY,y=t==longdo.Projections.EPSG4326?90-l.lat-g*e.v:90-this._lat2y(l.lat)/2-g*e.v,v=Math.floor(f*(this.tileResSqrt/p)),_=Math.floor(y*(this.tileResSqrt/g));i=i||v<0||v>this.tileResSqrt||_<0||_>this.tileResSqrt,r.data.push({x:v,y:_,value:l.value,radius:h})}o=Math.max(l.value,o),s=Math.min(l.value,s)}return this.Cache[e.u+"-"+e.v+"-"+e.w]?this.Cache[e.u+"-"+e.v+"-"+e.w]:(this.cfg.useLocalExtrema&&(r.max=o,r.min=s),i&&r.data.push({x:1,y:1,value:-Number.EPSILON,radius:0}),this._heatmap.setData(r),this.Cache[e.u+"-"+e.v+"-"+e.w]=this._heatmap.getDataURL(),this._heatmap.getDataURL())},e.prototype.setData=function(t){this._max=t.max||this._max,this._min=t.min||this._min,this._data=[];t=t.data;var e=t.length;while(e--){var n=t[e],a={lat:n.lat,lon:n.lon,value:n.value};n.radius&&(a.radius=n.radius),this._data.push(a)}},e.prototype._getTileIncludeLatlon=function(t,e){var n=t.lon+180,a=e==longdo.Projections.EPSG4326?90-t.lat:180-this._lat2y(t.lat),r=360/this.tileNumSqrtX,i=e==longdo.Projections.EPSG4326?180/this.tileNumSqrtY:360/this.tileNumSqrtY;return{u:Math.floor(n/r),v:Math.floor(a/i)}},e.prototype._clearCache=function(){this.Cache=[]},e.prototype._y2lat=function(t){return 90*(Math.atan(Math.exp(t/(180/Math.PI)))/(Math.PI/4)-1)},e.prototype._lat2y=function(t){return Math.log(Math.tan((t/90+1)*(Math.PI/4)))*(180/Math.PI)},e}},ut={name:"LongdoHeatmap",mixins:[w,ot],data:function(){return{heatmapLayer:null}},mounted:function(){var t=this;this.mapReady.then((function(){var e=lt.heatmap(st);t.heatmapLayer=new e(t.getHeatmapOptions()),t.$emit("add",t.heatmapLayer),t.setHeatmapLayer()}))},destroyed:function(){this.$parent.map.Layers.remove(this.heatmapLayer)},methods:{setHeatmapLayer:function(){this.$parent.map.Layers.remove(this.heatmapLayer),this.heatmapLayer._clearCache(),this.heatmapLayer.setData(this.data),this.$parent.map.Layers.add(this.heatmapLayer)}},watch:{data:function(){this.setHeatmapLayer()}}},ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"panorama",staticClass:"ldmap-vue-panorama"})},dt=[],ht={map:{required:!0},showPath:{type:Boolean,default:null},getLength:{type:Boolean,default:null},showPathDetail:{type:Boolean,default:null},location:{type:Object,default:null},tilt:{type:Number,default:null},rhead:{type:Number,default:null},fixDirection:{type:Boolean,default:null},messageBox:{type:Boolean,default:null},debug:{type:Boolean,default:null},callBack:{type:Object,default:null},sphere:{type:Boolean,default:null},seekStep:{type:Number,default:null},seekPlayStep:{type:Number,default:null},server:{type:String,default:null},wsURL:{type:String,default:null},roadPathURL:{type:String,default:null},imageURL:{type:String,default:null},imageHDURL:{type:String,default:null},isHD:{type:Boolean,default:null},autoStart:{type:Boolean,default:null},lang:{type:String,default:null},mmsLayer:{type:Object,default:null},forceWebgl1:{type:Boolean,default:null},loadingUi:{type:Boolean,default:null},panoControlUi:{type:Boolean,default:null},panoWidgetUi:{type:Boolean,default:null},panoRenderUi:{type:Boolean,default:null},panoDirectionUi:{type:Boolean,default:null},hasLaser:{type:Boolean,default:null},alwaysDrawLaserUsingUV:{type:Boolean,default:null},measureLineVerticalAngle:{type:Boolean,default:null},showSurveyPath:{type:Boolean,default:null},alwaysShowPath:{type:Boolean,default:null}},mt={props:ht,methods:{getPanoramaOptions:function(){var t={};for(var e in ht)null!==this[e]&&(t[e]=this[e]);return t}}},pt={name:"LongdoPanorama",mixins:[mt],data:function(){return{src:"//api.longdo.com/pano/pano-api.min.js",isInit:!1,panorama:null}},mounted:function(){var t=this;this.panoramaReady().then((function(){t.initPano()}))},destroyed:function(){this.destroyPano()},methods:{initPano:function(){if("undefined"!==typeof window.longdo&&this.map&&!this.isInit&&"undefined"!==typeof window.longdo.PanoramaViewer)if(this.map instanceof window.longdo.Map){var t=this.getPanoramaOptions();t.placeholder=this.$refs.panorama,this.panorama=new window.longdo.PanoramaViewer(t),this.$emit("load",this.panorama),this.isInit=!0}else console.error("Longdo Map Vue: Incorrect Longdo Map object")},panoramaReady:function(){var t=this,e="ldmapVuePanorama";return new Promise((function(n,a){if(document.getElementById(e))n();else{var r=document.createElement("script");r.onload=function(){n()},r.onerror=function(){a()},r.id=e,r.async=!0,r.src=t.src,document.body.appendChild(r)}}))},destroyPano:function(){var t=this;this.map.Overlays.remove(this.panorama.currentLocationMarker());var e=document.getElementById("pano-current-location-pointer");e&&this.map.placeholder().removeChild(e),this.panorama.hidePath(),this.map.Overlays.list().forEach((function(e){(e.isPanoPoint||e.isPanoLine)&&t.map.Overlays.remove(e)}))}},watch:{map:function(){var t=this;this.isInit||this.panoramaReady().then((function(){t.initPano()}))}}},ft=pt,gt=(n("3002"),y(ft,ct,dt,!1,null,null,null)),yt=gt.exports;function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bt={install:function(t,e){var n=_t({installComponents:!0,tagPrefix:""},e);if(n.load&&s.load(n.load),n.installComponents){var a=""!==n.tagPrefix?"".concat(n.tagPrefix,"-"):n.tagPrefix;t.component("".concat(a,"longdo-map"),_),t.component("".concat(a,"longdo-map-marker"),x),t.component("".concat(a,"longdo-map-dot"),S),t.component("".concat(a,"longdo-map-circle"),L),t.component("".concat(a,"longdo-map-rectangle"),O),t.component("".concat(a,"longdo-map-polygon"),P),t.component("".concat(a,"longdo-map-polyline"),T),t.component("".concat(a,"longdo-map-polycurve"),B),t.component("".concat(a,"longdo-map-lock-screen"),D),t.component("".concat(a,"longdo-map-lock-map"),V),t.component("".concat(a,"longdo-map-menu-bar"),F),t.component("".concat(a,"longdo-map-tag-panel"),q),t.component("".concat(a,"longdo-map-custom-control"),K),t.component("".concat(a,"longdo-map-custom-ui"),J),t.component("".concat(a,"longdo-map-marker-cluster"),rt),t.component("".concat(a,"longdo-map-heatmap"),ut),t.component("".concat(a,"longdo-map-panorama"),yt)}}},kt=bt;e["default"]=kt}})}));
//# sourceMappingURL=longdo-map-vue.umd.min.js.map